<idea-plugin>
    <id>com.ultracodeai.plugin</id>
    <name>UltraCodeAI</name>
    <version>1.0.0</version>
    <vendor email="support@ultracodeai.com" url="https://github.com/ultracodeai/plugin">UltraCodeAI Team</vendor>

    <description><![CDATA[
    <div>
    <h2>ğŸš€ UltraCodeAI - Local AI-Powered Coding Assistant</h2>
    <p>Transform PyCharm into the ultimate AI-powered development environment with local Qwen 2.5 Coder integration.</p>

    <h3>âœ¨ Key Features:</h3>
    <ul>
        <li><b>ğŸ¤– Smart Code Completion:</b> Context-aware AI suggestions as you type</li>
        <li><b>ğŸ” Real-time Error Detection:</b> AI-powered bug detection beyond traditional linting</li>
        <li><b>ğŸ’¬ Interactive AI Chat:</b> Natural language programming assistance</li>
        <li><b>ğŸ“– Code Explanation:</b> Understand complex code with AI-generated explanations</li>
        <li><b>ğŸ”’ Privacy-First:</b> All processing done locally - no data sent to cloud</li>
        <li><b>âš¡ Multi-Language Support:</b> Python, JavaScript, TypeScript, and more</li>
        <li><b>ğŸ¯ Optimized Performance:</b> Designed for RTX 4060 8GB VRAM + 16GB RAM systems</li>
    </ul>

    <h3>ğŸ“‹ Requirements:</h3>
    <ul>
        <li><b>Ollama</b> installed with <code>qwen2.5-coder:7b</code> model</li>
        <li><b>8GB+ RAM</b> recommended</li>
        <li><b>GPU with 8GB+ VRAM</b> for optimal performance</li>
        <li><b>PyCharm 2023.2+</b></li>
    </ul>

    <h3>ğŸš€ Quick Setup:</h3>
    <ol>
        <li>Install Ollama: <code>curl -fsSL https://ollama.ai/install.sh | sh</code></li>
        <li>Pull model: <code>ollama pull qwen2.5-coder:7b</code></li>
        <li>Start server: <code>ollama serve</code></li>
        <li>Restart PyCharm and enjoy AI-powered coding!</li>
    </ol>

    <p><a href="https://github.com/ultracodeai/plugin">ğŸ“š Documentation</a> |
       <a href="https://github.com/ultracodeai/plugin/issues">ğŸ› Report Issues</a> |
       <a href="https://discord.gg/ultracodeai">ğŸ’¬ Community</a></p>
    </div>
    ]]></description>

    <change-notes><![CDATA[
    <div>
    <h3>ğŸ‰ v1.0.0 - Initial Release (December 2024)</h3>
    <ul>
        <li>ğŸ¤– <b>Local AI Integration:</b> Full Qwen 2.5 Coder 7B support via Ollama</li>
        <li>ğŸš€ <b>Smart Code Completion:</b> Context-aware suggestions with confidence scoring</li>
        <li>ğŸ” <b>Real-time Error Detection:</b> AI-powered analysis with quick fixes</li>
        <li>ğŸ’¬ <b>Interactive Chat Panel:</b> Natural language coding assistance</li>
        <li>ğŸ“– <b>Code Explanation:</b> Right-click to understand any code block</li>
        <li>âš™ï¸ <b>Comprehensive Settings:</b> Full customization of AI behavior</li>
        <li>ğŸ¯ <b>Multi-Language Support:</b> Python, JavaScript, TypeScript, and more</li>
        <li>âš¡ <b>Performance Optimized:</b> Efficient caching and resource management</li>
        <li>ğŸ”’ <b>Privacy Focused:</b> All processing done locally on your machine</li>
        <li>ğŸ› ï¸ <b>Developer-Friendly:</b> Extensive logging and debugging options</li>
    </ul>

    <h4>ğŸ¯ Perfect for:</h4>
    <ul>
        <li>Developers working on proprietary codebases</li>
        <li>Teams requiring privacy and data security</li>
        <li>Local development without internet dependencies</li>
        <li>Learning and understanding complex algorithms</li>
        <li>Code quality improvement and optimization</li>
    </ul>
    </div>
    ]]></change-notes>

    <!-- Compatibility - PyCharm focused -->
    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.modules.lang</depends>
    <depends optional="true">com.intellij.modules.python</depends>
    <!-- Removed python-support.xml reference as it may not exist -->

    <!-- Plugin Properties -->
    <resource-bundle>messages.UltraCodeAIBundle</resource-bundle>

    <extensions defaultExtensionNs="com.intellij">
        <!-- Application Services -->
        <applicationService serviceImplementation="com.ultracodeai.services.AIModelService"/>
        <applicationService serviceImplementation="com.ultracodeai.utils.SettingsState"/>

        <!-- Project Services -->
        <projectService serviceImplementation="com.ultracodeai.services.CodeCompletionService"/>
        <projectService serviceImplementation="com.ultracodeai.services.ErrorDetectionService"/>
        <projectService serviceImplementation="com.ultracodeai.services.ExplanationService"/>

        <!-- UI Extensions -->
        <toolWindow id="UltraCodeAI"
            anchor="right"
            factoryClass="com.ultracodeai.ui.ChatToolWindowFactory"
            icon="/icons/chat.svg"/>

        <!-- Code Completion - PyCharm Compatible Languages Only -->
        <completion.contributor
            language="Python"
            implementationClass="com.ultracodeai.completion.AICompletionContributor"
            order="first"/>
        <completion.contributor
            language="JavaScript"
            implementationClass="com.ultracodeai.completion.AICompletionContributor"
            order="first"/>
        <completion.contributor
            language="TypeScript"
            implementationClass="com.ultracodeai.completion.AICompletionContributor"
            order="first"/>
        <!-- Removed JAVA and kotlin as they may not be available in PyCharm Community -->

        <!-- Code Inspections - PyCharm Compatible Only -->
        <localInspection
            language="Python"
            shortName="UltraCodeAIInspection"
            displayName="UltraCodeAI Analysis"
            groupName="UltraCodeAI"
            enabledByDefault="true"
            level="WARNING"
            implementationClass="com.ultracodeai.inspections.AICodeInspection"/>
        <!-- Removed JAVA inspection -->

        <!-- Annotations - PyCharm Compatible Only -->
        <annotator
            language="Python"
            implementationClass="com.ultracodeai.inspections.AIErrorAnnotator"/>
        <annotator
            language="JavaScript"
            implementationClass="com.ultracodeai.inspections.AIErrorAnnotator"/>
        <annotator
            language="TypeScript"
            implementationClass="com.ultracodeai.inspections.AIErrorAnnotator"/>
        <!-- Removed JAVA annotator -->

        <!-- Settings -->
        <applicationConfigurable
            parentId="tools"
            instance="com.ultracodeai.ui.SettingsConfigurable"
            id="com.ultracodeai.settings"
            displayName="UltraCodeAI"/>

        <!-- Startup Activity -->
        <postStartupActivity implementation="com.ultracodeai.UltraCodeAIPlugin"/>

        <!-- Document Listener -->
        <editorFactoryDocumentListener
            implementation="com.ultracodeai.listeners.DocumentChangeListener"/>
    </extensions>

    <actions>
        <!-- Main Action Group -->
        <group id="UltraCodeAI.MainGroup" text="UltraCodeAI" popup="true" icon="/icons/ultracodeai.svg">
            <add-to-group group-id="MainToolBar" anchor="before" relative-to-action="VcsToolbarActions"/>

            <action id="UltraCodeAI.ExplainCode"
                class="com.ultracodeai.ui.ExplainCodeAction"
                text="Explain Code"
                description="Explain selected code using AI"
                icon="/icons/explain.svg">
                <keyboard-shortcut keymap="$default" first-keystroke="ctrl alt E"/>
            </action>

            <action id="UltraCodeAI.ToggleCompletion"
                class="com.ultracodeai.ui.ToggleCompletionAction"
                text="Toggle AI Completion"
                description="Enable/disable AI code completion"/>

            <action id="UltraCodeAI.OpenChat"
                class="com.ultracodeai.ui.OpenChatAction"
                text="Open AI Chat"
                description="Open AI chat panel"
                icon="/icons/chat.svg">
                <keyboard-shortcut keymap="$default" first-keystroke="ctrl alt C"/>
            </action>

            <separator/>

            <action id="UltraCodeAI.AIToolbar"
                class="com.ultracodeai.ui.AIToolbarAction"
                text="AI Status"
                description="Show AI status and quick options"
                icon="/icons/ultracodeai.svg"/>
        </group>

        <!-- Context Menu Actions -->
        <group id="UltraCodeAI.EditorContextGroup">
            <add-to-group group-id="EditorPopupMenu" anchor="last"/>
            <separator/>
            <reference ref="UltraCodeAI.ExplainCode"/>

            <action id="UltraCodeAI.FixCode"
                class="com.ultracodeai.ui.FixCodeAction"
                text="ğŸ”§ AI Fix Suggestion"
                description="Get AI suggestions to fix code issues"/>

            <action id="UltraCodeAI.GenerateTests"
                class="com.ultracodeai.ui.GenerateTestsAction"
                text="ğŸ§ª Generate Unit Tests"
                description="Generate unit tests using AI"/>

            <action id="UltraCodeAI.OptimizeCode"
                class="com.ultracodeai.ui.OptimizeCodeAction"
                text="âš¡ Optimize Code"
                description="Get AI suggestions to optimize code performance"/>
        </group>
    </actions>

    <applicationListeners>
        <listener class="com.ultracodeai.listeners.ProjectOpenListener"
            topic="com.intellij.openapi.project.ProjectManagerListener"/>
    </applicationListeners>
</idea-plugin>
